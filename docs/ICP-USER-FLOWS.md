# Iftar App ‚Äî ICP & User Flows

## ICPs (Ideal Customer Profiles)

### ICP 1: –•–æ—Å—Ç (Host)
**–ö—Ç–æ:** –ü—Ä–∞–∫—Ç–∏–∫—É—é—â–∏–π –º—É—Å—É–ª—å–º–∞–Ω–∏–Ω 25-45 –ª–µ—Ç, –∞–∫—Ç–∏–≤–Ω—ã–π –≤ community
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–∏–≥–ª–∞—à–∞–µ—Ç 3-10 —á–µ–ª–æ–≤–µ–∫ –Ω–∞ –∏—Ñ—Ç–∞—Ä –∑–∞ –†–∞–º–∞–¥–∞–Ω
**–ë–æ–ª—å:** "–ü—Ä–∏–≥–ª–∞—à–∞—é —á–µ–ª–æ–≤–µ–∫–∞, –∞ –æ–Ω —É–∂–µ –∏–¥—ë—Ç –∫ –∫–æ–º—É-—Ç–æ ‚Äî –Ω–µ–ª–æ–≤–∫–æ"
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ, —É–≤–∏–¥–µ—Ç—å –∫—Ç–æ —Å–≤–æ–±–æ–¥–µ–Ω, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã

### ICP 2: –ì–æ—Å—Ç—å (Guest)  
**–ö—Ç–æ:** –¢–æ—Ç –∂–µ –ø—Ä–æ—Ñ–∏–ª—å, –Ω–æ —á–∞—â–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
**–ë–æ–ª—å:** "–¢—Ä–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–∞ –æ–¥–Ω—É –¥–∞—Ç—É, –∫–æ–≥–æ-—Ç–æ –æ–±–∏–∂—É"
**–¶–µ–ª—å:** –í–∏–¥–µ—Ç—å —Å–≤–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å, –±—ã—Å—Ç—Ä–æ –æ—Ç–≤–µ—Ç–∏—Ç—å, –Ω–µ –∑–∞–±—ã—Ç—å –∫—É–¥–∞ –∏–¥—Ç–∏

### ICP 3: –ü–æ–ª—É—á–∞—Ç–µ–ª—å —Å—Å—ã–ª–∫–∏ (New User via Invite)
**–ö—Ç–æ:** –ü–æ–ª—É—á–∏–ª —Å—Å—ã–ª–∫—É –æ—Ç –¥—Ä—É–≥–∞, –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç —á–µ—Ä–µ–∑ deep link
**–¶–µ–ª—å:** –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∑–∞ 2 –∫–ª–∏–∫–∞, –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

---

## User Flows

### Flow 1: –•–æ—Å—Ç —Å–æ–∑–¥–∞—ë—Ç —Å–æ–±—ã—Ç–∏–µ (Mini App)
```
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App ‚Üí –≤–∏–¥–∏—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å –†–∞–º–∞–¥–∞–Ω–∞
2. –¢–∞–ø–∞–µ—Ç –Ω–∞ –¥–∞—Ç—É ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç: –≤—Ä–µ–º—è, –º–µ—Å—Ç–æ, –∞–¥—Ä–µ—Å, –∑–∞–º–µ—Ç–∫–∏
4. –î–æ–±–∞–≤–ª—è–µ—Ç –≥–æ—Å—Ç–µ–π –ø–æ @username
5. –í–∏–¥–∏—Ç –∫–æ–ª–ª–∏–∑–∏–∏: "‚ö†Ô∏è @marat –∑–∞–Ω—è—Ç ‚Äî –∏–¥—ë—Ç –∫ @nurlan"
6. –£–±–∏—Ä–∞–µ—Ç –∑–∞–Ω—è—Ç—ã—Ö –∏–ª–∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥—ë–Ω)
7. –ñ–º—ë—Ç "–°–æ–∑–¥–∞—Ç—å –∏—Ñ—Ç–∞—Ä"
8. –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ, –º–æ–∂–µ—Ç –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π
```

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –ú–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚ùå –ì–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ placeholder (telegram_id = 0)
- ‚ùå Collision check –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö telegram_id)
- ‚ùå –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è confirmation
- ‚ùå –®–∞—Ä–∏–Ω–≥ –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª—Å—è

---

### Flow 2: –•–æ—Å—Ç –¥–µ–ª–∏—Ç—Å—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º
```
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ
2. –ñ–º—ë—Ç "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º"
3. Telegram share picker –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
4. –í—ã–±–∏—Ä–∞–µ—Ç —á–∞—Ç/–∫–æ–Ω—Ç–∞–∫—Ç
5. –ü–æ–ª—É—á–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Å—ã–ª–∫–æ–π
```

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –µ—Å—Ç—å
- ‚úÖ –°—Å—ã–ª–∫–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (t.me/...?start=event_<id>)
- ‚ùå Share picker –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω

---

### Flow 3: –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É (Bot)
```
1. –ü–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É t.me/iftar_coordinator_bot?start=event_<id>
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤ Telegram
3. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –¥–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏—è + –∫–Ω–æ–ø–∫–∏ RSVP
4. –ñ–º—ë—Ç "‚úÖ –ü—Ä–∏–¥—É" / "‚ùå –ù–µ —Å–º–æ–≥—É" / "ü§î –ú–æ–∂–µ—Ç –±—ã—Ç—å"
5. –ë–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç: "–û—Ç–ª–∏—á–Ω–æ! –¢—ã –æ—Ç–º–µ—Ç–∏–ª—Å—è —á—Ç–æ –ø—Ä–∏–¥—ë—à—å"
6. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
```

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ
- ‚úÖ –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /start event_<id>
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ RSVP –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ùå –ï—Å–ª–∏ user –Ω–µ –≤ –±–∞–∑–µ ‚Äî invitation –º–æ–∂–µ—Ç –Ω–µ —Å–æ–∑–¥–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚ùå –•–æ—Å—Ç –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–≤–µ—Ç–µ

---

### Flow 4: –ì–æ—Å—Ç—å –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Mini App
```
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App
2. –í–∏–¥–∏—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ (–≥–¥–µ —É–∂–µ –ø—Ä–∏–≥–ª–∞—à—ë–Ω)
3. –¢–∞–ø–∞–µ—Ç –Ω–∞ –¥–∞—Ç—É —Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º
4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è EventDetails
5. –ñ–º—ë—Ç "‚úÖ –ü—Ä–∏–¥—É" / "‚ùå –ù–µ —Å–º–æ–≥—É" / "ü§î –ú–æ–∂–µ—Ç –±—ã—Ç—å"
6. –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è
```

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ
- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
- ‚úÖ EventDetails –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ RSVP –∫–Ω–æ–ø–∫–∏ –µ—Å—Ç—å
- ‚ùå –ü–æ—Å–ª–µ RSVP UI –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚ùå –ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å (hosting/accepted/pending)

---

### Flow 5: –•–æ—Å—Ç —Å–º–æ—Ç—Ä–∏—Ç –∫—Ç–æ –ø—Ä–∏–¥—ë—Ç
```
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–≤–æ—ë —Å–æ–±—ã—Ç–∏–µ
2. –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏
3. –í–∏–¥–∏—Ç —Å—á—ë—Ç—á–∏–∫: "5 –ø—Ä–∏–¥—É—Ç ‚Ä¢ 2 –æ–∂–∏–¥–∞—é—Ç"
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ú–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –≥–æ—Å—Ç—è
```

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ
- ‚úÖ –°–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
- ‚ùå –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–¥–∞–ª–∏—Ç—å –≥–æ—Å—Ç—è
- ‚ùå –ù–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ

---

### Flow 6: –ì–ª—É–±–æ–∫–∞—è —Å—Å—ã–ª–∫–∞ –≤ Mini App
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç t.me/bot?startapp=event_<id>
2. Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –Ω–∞ —Å–æ–±—ã—Ç–∏–∏
3. –í–∏–¥–∏—Ç –¥–µ—Ç–∞–ª–∏ + RSVP –∫–Ω–æ–ø–∫–∏
```

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- startapp —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ BotFather
- start_param –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### –ö—Ä–∏—Ç–∏—á–Ω–æ (–±–µ–∑ —ç—Ç–æ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Å—Ç–µ–π –ø–æ username**
   - –°–µ–π—á–∞—Å: placeholder —Å telegram_id = 0
   - –ù—É–∂–Ω–æ: —Ä–µ–∑–æ–ª–≤–∏—Ç—å username ‚Üí telegram_id —á–µ—Ä–µ–∑ Telegram API –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å pending invite

2. **Collision detection**
   - –°–µ–π—á–∞—Å: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (telegram_id = 0)
   - –ù—É–∂–Ω–æ: –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º ID –∏–ª–∏ –ø–æ username –≤ –±–∞–∑–µ

3. **Deep link –≤ Mini App**
   - –°–µ–π—á–∞—Å: start_param –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
   - –ù—É–∂–Ω–æ: –ø–∞—Ä—Å–∏—Ç—å initDataUnsafe.start_param –∏ ?event= query

4. **UI feedback –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏–π**
   - –°–µ–π—á–∞—Å: –Ω–µ—Ç confirmation –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/RSVP
   - –ù—É–∂–Ω–æ: toast/snackbar + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI

### –í–∞–∂–Ω–æ (—É–ª—É—á—à–∞–µ—Ç UX)

5. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ö–æ—Å—Ç—É**
   - –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "–ú–∞—Ä–∞—Ç –æ—Ç–≤–µ—Ç–∏–ª: –ø—Ä–∏–¥—É!" 

6. **–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å—Ç–∞—Ä—Ç—É–µ—Ç —Å –†–∞–º–∞–¥–∞–Ω–∞**
   - –°–µ–π—á–∞—Å: —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
   - –ù—É–∂–Ω–æ: ramadanStart –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç

7. **–°—Ç–∞—Ç—É—Å—ã –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ**
   - –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è: hosting/accepted/pending/maybe

### Nice-to-have

8. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
9. –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
10. –£–¥–∞–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è –∏–∑ —Å–ø–∏—Å–∫–∞
11. Potluck mode (–∫—Ç–æ —á—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç)
12. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 2 —á–∞—Å–∞

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| # | –ó–∞–¥–∞—á–∞ | –í–ª–∏—è–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---|--------|---------|-----------|
| 1 | –ì–æ—Å—Ç–∏ –ø–æ username ‚Üí pending invite | High | Medium |
| 2 | Deep link –≤ Mini App | High | Low |
| 3 | UI feedback (toasts) | High | Low |
| 4 | Collision detection fix | High | Medium |
| 5 | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ö–æ—Å—Ç—É | Medium | Low |
| 6 | –ö–∞–ª–µ–Ω–¥–∞—Ä—å ‚Üí –†–∞–º–∞–¥–∞–Ω default | Medium | Low |
| 7 | –°—Ç–∞—Ç—É—Å—ã –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ | Medium | Low |
